(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{154:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){},158:function(e,t,c){},161:function(e,t,c){},162:function(e,t,c){"use strict";c.r(t);var n,a=c(0),s=c.n(a),i=c(25),r=c.n(i),o=c(2),l=c.n(o),j=c(6),d=c(5),b=c(8),h=c(178),u=c(173),m=(c(132),c(182)),O=c(172),x=c(179),p=c(177),f=c(171),g=c(140),v=c(138),y=c(69),w=c(53),k=Object(v.a)({apiKey:"AIzaSyCENKuGTVts4JZwflaz7SZw1UPYtJ5Cxd8",authDomain:"movie-4f0da.firebaseapp.com",projectId:"movie-4f0da",storageBucket:"movie-4f0da.appspot.com",messagingSenderId:"917645092140",appId:"1:917645092140:web:c7cf66d199d7fc90033889"}),C=Object(y.a)(k),S=Object(w.c)(k),N=c(14),T=c(1),_=function(e){var t=e.setShowRegisterModal,c=Object(a.useState)(""),n=Object(b.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(""),o=Object(b.a)(r,2),l=o[0],j=o[1],d=Object(a.useState)(""),h=Object(b.a)(d,2),u=h[0],m=h[1],x=Object(a.useState)(""),v=Object(b.a)(x,2),y=v[0],w=v[1],k=Object(a.useState)(""),C=Object(b.a)(k,2),S=C[0],_=C[1],L=Object(N.m)();return Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={method:"POST",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json"},body:JSON.stringify({name:l,email:u,password:y,gender:s,birthday:S})};fetch("http://34.125.130.128:8000/auth/user/signup",c).then((function(e){return e.json()})).then((function(e){alert("Registration Success!"),t(!1),L(-1)})).catch((function(e){console.log(e),alert("Oops! Something Went Wrong, Please Try Again!")}))},children:Object(T.jsxs)("div",{children:[Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalUsername",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Username"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsx)(p.a.Control,{required:!0,type:"text",placeholder:"Username",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalEmail",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Email"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsx)(p.a.Control,{type:"email",placeholder:"Email",value:u,onChange:function(e){return m(e.target.value)},required:!0})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalPassword",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Password"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsx)(p.a.Control,{type:"text",placeholder:"Password",value:y,onChange:function(e){return w(e.target.value)},required:!0})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalGender",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Gender"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsxs)(p.a.Select,{"aria-label":"Gender",value:s,onChange:function(e){return i(e.target.value)},children:[Object(T.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Gender"}),Object(T.jsx)("option",{value:"Male",children:"Male"}),Object(T.jsx)("option",{value:"Female",children:"Female"}),Object(T.jsx)("option",{value:"Non-binary",children:"Non-Binary"})]})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalBirthday",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Birthday"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsx)(p.a.Control,{type:"date",id:"birthday",onChange:function(e){return _(e.target.value)},required:!0})})]}),Object(T.jsx)(p.a.Group,{as:f.a,className:"mb-3",children:Object(T.jsx)(g.a,{sm:{span:10,offset:2},children:Object(T.jsx)(O.a,{type:"submit",children:"Create account"})})})]})})},L=c(180),A=function(e){var t=e.setLogin,c=Object(a.useState)(""),n=Object(b.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(""),o=Object(b.a)(r,2),l=o[0],j=o[1],d=Object(L.a)(["accessToken","email"]),h=Object(b.a)(d,3),u=(h[0],h[1]),m=(h[2],function(e){e.preventDefault(),console.log({email:s,password:l});var c={method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify({email:s,password:l})};fetch("http://34.125.130.128:8000/auth/user/login",c).catch((function(e){console.log(e),alert("Oops! Something Went Wrong, Please Try Again!")})).then((function(e){return e.json()})).then((function(e){if("ERROR: Encounter error during user login."===e.message)alert("Wrong username or password");else{var c=new Date;c.setTime(c.getTime()+1e6),u("accessToken",e.data,{path:"/",expires:c}),u("email",s,{path:"/",expires:c}),t(!0),window.location.reload(!1)}}))}),v=Object(a.useState)(!1),y=Object(b.a)(v,2),w=y[0],k=y[1];return Object(T.jsxs)("div",{children:[Object(T.jsxs)("form",{onSubmit:m,id:"login",children:[Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalEmail",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Email"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsx)(p.a.Control,{type:"email",placeholder:"Email",value:s,onChange:function(e){return i(e.target.value)},required:!0})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",controlId:"formHorizontalPassword",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Password"}),Object(T.jsx)(g.a,{sm:10,children:Object(T.jsx)(p.a.Control,{type:"password",placeholder:"Password",value:l,onChange:function(e){return j(e.target.value)},required:!0})})]}),Object(T.jsx)(p.a.Group,{as:f.a,className:"mb-3",children:Object(T.jsx)(g.a,{sm:{span:10,offset:2}})})]}),Object(T.jsxs)(g.a,{sm:{span:10,offset:2},children:[Object(T.jsx)(O.a,{form:"login",type:"submit",onSubmit:m,children:"Sign in"}),"or",Object(T.jsx)(O.a,{type:"submit",onClick:function(){return k(!0)},children:"Create account"}),Object(T.jsxs)(x.a,{show:w,onHide:function(){return k(!1)},children:[Object(T.jsx)(x.a.Header,{closeButton:!0,children:Object(T.jsx)(x.a.Title,{children:"Create Your Account"})}),Object(T.jsx)(x.a.Body,{children:Object(T.jsx)(_,{setShowRegisterModal:k})})]})]})]})},P=function(e){var t=e.setLogin,c=Object(a.useState)(!1),n=Object(b.a)(c,2),s=n[0],i=n[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(O.a,{className:"me-2",href:"/advanced_search",children:"Search"}),Object(T.jsx)(O.a,{variant:"primary",onClick:function(){return i(!0)},children:"Login"}),Object(T.jsxs)(x.a,{show:s,onHide:function(){return i(!1)},children:[Object(T.jsx)(x.a.Header,{closeButton:!0,children:Object(T.jsx)(x.a.Title,{children:"Log In"})}),Object(T.jsx)(x.a.Body,{children:Object(T.jsx)(A,{setLogin:t})})]})]})},E=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(L.a)(),i=Object(b.a)(s,3),r=i[0],o=(i[1],i[2]);Object(a.useEffect)((function(){var e=window.localStorage.getItem("login");e&&n(JSON.parse(e))}),[]),Object(a.useEffect)((function(){window.localStorage.setItem("login",Boolean(c))}),[c]);return c?Object(T.jsxs)(m.a,{direction:"horizontal",children:[Object(T.jsxs)(h.a.Text,{className:"me-2",children:["Welcome Back:",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:r.email})]}),Object(T.jsx)(O.a,{className:"me-2",href:"/advanced_search",children:"Search"}),Object(T.jsx)(O.a,{className:"d-flex me-2",onClick:function(){fetch("http://34.125.130.128:8000/auth/user/logout",{method:"POST",mode:"cors",credentials:"omit"}),o("email"),o("accessToken"),n(!1),window.location.reload(!1)},children:"Log out"}),Object(T.jsx)(O.a,{className:"me-2",href:"/user/".concat(r.email),children:"My Home"}),Object(T.jsx)(O.a,{variant:"outline-secondary",href:"/userhome",children:"Settings"})]}):Object(T.jsx)(P,{setLogin:function(e){return n(e)}})},B=function(){return Object(T.jsx)(h.a,{bg:"light",expand:"lg",children:Object(T.jsxs)(u.a,{fluid:!0,children:[Object(T.jsx)(h.a.Brand,{href:"/home",style:{fontWeight:"bold"},children:"3 >> 4"}),Object(T.jsx)(h.a.Toggle,{"aria-controls":"navbarScroll"}),Object(T.jsx)(h.a.Collapse,{id:"navbarScroll",className:"justify-content-end",children:Object(T.jsx)(E,{})})]})})},I=c(181),D=c(174),G=c(175),U=c(176),M=c(24),z=c(11),H=c.n(z),R=["title","titleId"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},J.apply(this,arguments)}function W(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function F(e,t){var c=e.title,s=e.titleId,i=W(e,R);return a.createElement("svg",J({width:84,height:67,viewBox:"0 0 84 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),c?a.createElement("title",{id:s},c):null,n||(n=a.createElement("g",{id:"Icon"},a.createElement("g",{id:"hand"},a.createElement("rect",{id:"Rectangle 1",y:21.9999,width:20,height:45,rx:5,fill:"white"}),a.createElement("path",{id:"thumb-4",d:"M24 23.9999H79C81.7614 23.9999 84 26.2385 84 28.9999V30.9999C84 33.7613 81.7614 35.9999 79 35.9999H24V23.9999Z",fill:"white"}),a.createElement("path",{id:"thumb-3",d:"M24 53.9999H64C66.7614 53.9999 69 56.2385 69 58.9999V60.9999C69 63.7613 66.7614 65.9999 64 65.9999H24V53.9999Z",fill:"white"}),a.createElement("path",{id:"thumb-2",d:"M24 43.9999H69C71.7614 43.9999 74 46.2385 74 48.9999V50.9999C74 53.7613 71.7614 55.9999 69 55.9999H24V43.9999Z",fill:"white"}),a.createElement("path",{id:"thumb-1",d:"M24 33.9999H74C76.7614 33.9999 79 36.2385 79 38.9999V40.9999C79 43.7613 76.7614 45.9999 74 45.9999H24V33.9999Z",fill:"white"})),a.createElement("path",{id:"thumb-start",d:"M34 29.5506C37.1438 28.5631 44.1537 25.192 47.0428 19.6065",stroke:"white",strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{id:"thumb-end",d:"M44.6172 22.7471C46.9813 20.4514 51.7265 14.2881 51.7952 8.00001",stroke:"white",strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round"}))))}var K=a.forwardRef(F),V=(c.p,c(154),Array.from(Array(10))),Y=function(e){var t=e.liked,c=e.clickFunc,n=Object(a.useState)(!1),s=Object(b.a)(n,2),i=s[0],r=s[1];return Object(T.jsxs)("button",{onClick:function(){c(),r(!0)},onAnimationEnd:function(){return r(!1)},className:H()("like-button-wrapper",{liked:t,clicked:i}),children:[t&&Object(T.jsx)("div",{className:"particles",children:V.map((function(e,t){return Object(T.jsx)("div",{className:"particle-rotate",style:{transform:"rotate(".concat(360/V.length*t+1,"deg)")},children:Object(T.jsx)("div",{className:"particle-tick"})})}))}),Object(T.jsxs)("div",{className:"like-button",children:[Object(T.jsx)(K,{}),Object(T.jsx)("span",{children:"Like"}),Object(T.jsx)("span",{className:H()("suffix",{liked:t}),children:"d"})]})]})};function q(e){return function(e){return!!e&&null!=e.match(/\.(jpeg|jpg|gif|png)$/)}(e)?e:"//st.depositphotos.com/1987177/3470/v/450/depositphotos_34700099-stock-illustration-no-photo-available-or-missing.jpg"}var Z=function(e){var t=e.movieList;console.log(t);var c=Object(a.useState)(!1),n=Object(b.a)(c,2),s=n[0],i=n[1],r=Object(L.a)(),o=Object(b.a)(r,1)[0];return console.log(t),t.cover=q(t.movies[0].cover),Object(T.jsx)(I.a,{style:{width:"15rem"},children:Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("script",{src:"holder.js"}),Object(T.jsxs)(I.a.Title,{style:{height:"2.2rem"},children:[Object(T.jsx)(M.b,{style:{textDecoration:"none",color:"black"},to:"/list/".concat(t.id),children:t.list_name}),Object(T.jsx)(O.a,{variant:"outline-primary",width:"180",disabled:s,onClick:function(){if(C.currentUser){i(!0);var e={method:"PUT",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(o.email,";accessToken=").concat(o.accessToken)},body:JSON.stringify({list_id:t.id,user_id:C.currentUser.email})};fetch("http://34.125.130.128:8000/add_fav_list",e).then((function(e){return console.log("parsed json",e),e.json()})).then((function(e){console.log("parsed json",e)}),(function(e){console.log("parsing failed",e)}))}else alert("Please login first!")},children:"+"})]}),Object(T.jsx)(M.b,{to:"/list/".concat(t.id),children:Object(T.jsx)(I.a.Img,{variant:"top",width:"200",heigh:"300",src:t.cover})}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{children:["Created by ",t.level," member:"]}),Object(T.jsx)(M.b,{to:"/users/".concat(t.creator),children:Object(T.jsx)("div",{children:t.owner.username})})]})})},$=(c(155),c(183)),Q=function(e){var t=e.movieData,c=["Primary","Secondary","Success","Danger","Warning","Info","Light","Dark"],n=c[Math.floor(Math.random()*c.length)],s=Object(N.o)().movie_Id,i=Object(a.useState)(!1),r=Object(b.a)(i,2),o=r[0],l=r[1],j=Object(a.useState)(!1),d=Object(b.a)(j,2),h=d[0],u=d[1];return Object(T.jsxs)(m.a,{direction:"horizontal",gap:3,className:"flex-container",children:[Object(T.jsxs)(I.a,{style:{width:"18rem",minWidth:"10rem",fontSize:"15px"},className:"py-5 px-2 text-center",onClick:function(){return l(!0)},children:["Add Your Review",Object(T.jsxs)(x.a,{show:o,onHide:function(){return l(!1)},children:[Object(T.jsx)(x.a.Header,{closeButton:!0,children:Object(T.jsx)(x.a.Title,{children:"Create Review"})}),Object(T.jsxs)(x.a.Body,{children:[Object(T.jsx)("div",{class:"form-group my-3",children:Object(T.jsx)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:h,onChange:function(e){return u(e.target.value)},required:!0})}),Object(T.jsx)(O.a,{type:"submit",onClick:function(e){return function(e){l(!1);var t={method:"POST",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json"},body:JSON.stringify({review:h})};fetch("http://34.125.130.128:8000/user/movies/".concat(s,"/comments"),t).then((function(){return window.location.reload(!1)}))}()},children:"Submit"})]})]})]}),t.comments?t.comments.map((function(e,t){return Object(T.jsxs)(I.a,{bg:n.toLowerCase(),text:"light"===n.toLowerCase()?"dark":"white",style:{width:"18rem",minWidth:"10rem",fontSize:"15px"},className:"mb-2",children:[Object(T.jsxs)(I.a.Header,{children:[e.username," (",e.user_email,")"]}),Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)(I.a.Text,{children:e.comment}),Object(T.jsx)($.a.Item,{size:"lg",children:e.created_time})]})]},n)})):null]})},X=function(){var e=Object(N.m)(),t=Object(N.o)().movie_Id,c=Object(a.useState)({id:t,title:null,release_year:null,runtime:null,type:null,description:null,cover:null,production:null,language:null,liked_num:null,rating:null,rate_num:null,liked_users:[],comments:[],related_lists:[]}),n=Object(b.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(!1),o=Object(b.a)(r,2),h=o[0],x=o[1],p=Object(a.useState)(!1),v=Object(b.a)(p,2),y=v[0],w=v[1],k=Object(L.a)(),C=Object(b.a)(k,1)[0];Object(a.useEffect)((function(){fetch("http://34.125.130.128:8000/user/movies/".concat(t),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(C.email,";accessToken=").concat(C.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data})).catch((function(e){console.log(e),alert("Oops! We Couldn't Find This Movie, Please Try Again!")})).then(function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Promise.all(t.related_lists.map((function(e){return fetch("http://34.125.130.128:8000/user/lists/".concat(e.id),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(C.email,";accessToken=").concat(C.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data}))})));case 3:c=e.sent,i(Object(j.a)(Object(j.a)({},t),{},{lists:c})),x(t.isLikedByUser),w(t.isAddedToList);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[h,y]);return Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)(B,{}),Object(T.jsx)(u.a,{className:"mb-2",children:Object(T.jsxs)(I.a,{children:[Object(T.jsx)("script",{src:"holder.js"}),Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)(O.a,{variant:"secondary",className:"back-button",onClick:function(){return e(-1)},children:"Back"}),Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{xs:"6",className:"d-flex flex-column justify-content-center align-items-center",children:Object(T.jsx)(D.a,{src:s.cover,className:"mx-auto",width:"200",heigh:"300"})}),Object(T.jsxs)(g.a,{children:[Object(T.jsx)("h2",{children:s.title}),Object(T.jsx)("br",{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Type:"})," ",s.type]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Release year:"})," ",s.release_year]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Run Time:"})," ",s.runtime," min"]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Production:"})," ",s.production]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Language:"})," ",s.language]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Liked Number:"})," ",s.liked_num]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Rate Number:"})," ",s.rate_num]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"Rating:"})," ",s.rating]}),Object(T.jsx)("div",{children:Object(T.jsx)(Y,{liked:h,clickFunc:function(){if(!JSON.parse(window.localStorage.getItem("login")))return alert("Please login first!"),!1;if(x(!h),h){var e={method:"DELETE",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(C.email,";accessToken=").concat(C.accessToken)}};fetch("http://34.125.130.128:8000/user/liked/movies/".concat(t),e)}else{var c={method:"PUT",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(C.email,";accessToken=").concat(C.accessToken)}};fetch("http://34.125.130.128:8000/user/liked/movies/".concat(t),c).catch((function(e){console.log(e),alert("Oops! Like Operation API Wrong, Please Try Again!")}))}}})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(O.a,{variant:"outline-primary",size:"lg",disabled:y,onClick:function(){var e={method:"PUT",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(C.email,";accessToken=").concat(C.accessToken)}};fetch("http://34.125.130.128:8000/user/lists/movies/".concat(t),e),window.location.reload(!1)},children:"+"}),"          ",Object(T.jsx)(O.a,{variant:"outline-primary",size:"lg",disabled:!y,onClick:function(){var e={method:"DELETE",mode:"cors",credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(C.email,";accessToken=").concat(C.accessToken)}};fetch("http://34.125.130.128:8000/user/lists/movies/".concat(t),e),window.location.reload(!1)},children:"-"})]})]})]})]}),Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("b",{children:"Description:"})," ",s.description]}),Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("b",{children:"They also liked this movie:"}),Object(T.jsx)(I.a.Text,{children:s.liked_users?s.liked_users.map((function(e,t){return Object(T.jsx)(U.a,{placement:"right",delay:{show:250,hide:400},overlay:function(t){return Object(T.jsxs)(G.a,Object(j.a)(Object(j.a)({id:"button-tooltip"},t),{},{children:[e.username," ",e.email]}))},children:Object(T.jsx)(M.b,{to:"/user/".concat(e.email),children:Object(T.jsx)("img",{src:ee(e.gender),class:"rounded-circle my-avater-img",alt:"Avatar"})})})})):null})]}),Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("b",{children:"Lists you may interested"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:s.lists?s.lists.map((function(e,t){return console.log(e),Object(T.jsx)(Z,{movieList:e,user_id:""})})):null})]}),Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("b",{children:"User review"}),Object(T.jsx)(Q,{movieData:s})]})]})})]})},ee=function(e){return"male"===e?"https://www.w3schools.com/howto/img_avatar.png":"https://www.w3schools.com/howto/img_avatar2.png"},te=(c(156),c(157),function(e){var t=e.info,c=JSON.parse(window.localStorage.getItem("login"));return c?(console.log("mc"+c),Object(T.jsx)(I.a,{className:"movie_card",children:Object(T.jsx)(I.a.Body,{children:Object(T.jsxs)(M.b,{className:"movie_card_link",to:"/movie/".concat(t.id),children:[Object(T.jsx)(I.a.Title,{children:t.title}),Object(T.jsx)(I.a.Img,{src:q(t.cover)})]})})})):Object(T.jsx)(I.a,{className:"movie_card",children:Object(T.jsx)(I.a.Body,{children:Object(T.jsxs)(M.b,{className:"movie_card_link",to:"/home/",children:[Object(T.jsx)(I.a.Title,{children:t.title}),Object(T.jsx)(I.a.Img,{src:q(t.cover)})]})})})}),ce=function(e){return e.movies.map((function(e){return Object(T.jsx)(m.a,{direction:"horizontal",className:"align-items-stretch",gap:3,children:Object(T.jsx)(te,{info:e})})}))},ne=function(e){var t=JSON.parse(window.localStorage.getItem("login")),c=Object(L.a)(),n=Object(b.a)(c,1)[0],s=Object(a.useState)(!1),i=Object(b.a)(s,2),r=i[0],o=i[1],l=function(){if(t){o(!0);var c={method:"PUT",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(n.email,";accessToken=").concat(n.accessToken)}};fetch("http://34.125.130.128:8000/user/liked/lists/"+e.info.id,c).then((function(e){return window.location.reload(!1),e.json()})),window.localStorage.setItem("login",!0)}else alert("Please login first!")};return 0===e.info.movies.length?Object(T.jsx)(I.a,{style:{width:"15rem"},children:Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("script",{src:"holder.js"}),Object(T.jsxs)(I.a.Title,{style:{height:"2.2rem",textAlign:"left"},children:[Object(T.jsx)(M.b,{style:{textDecoration:"none",color:"black"},to:t?"/list/".concat(e.info.id):"/home/",children:e.info.name}),Object(T.jsx)(O.a,{style:{position:"relative",float:"right"},variant:"outline-primary",width:"80",disabled:r,onClick:l,children:"+"})]}),Object(T.jsxs)("div",{children:["Likes:",e.info.liked,Object(T.jsx)("br",{}),"Description:",e.info.description]}),Object(T.jsx)(M.b,{to:t?"/list/".concat(e.info.id):"/home/"}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{children:["Created by ",e.info.owner_info.username," "]})]})}):Object(T.jsx)(I.a,{style:{width:"15rem"},children:Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("script",{src:"holder.js"}),Object(T.jsxs)(I.a.Title,{style:{height:"2.2rem",textAlign:"left"},children:[Object(T.jsx)(M.b,{style:{textDecoration:"none",color:"black"},to:t?"/list/".concat(e.info.id):"/home/",children:e.info.name}),Object(T.jsx)(O.a,{style:{position:"relative",float:"right"},variant:"outline-primary",width:"80",disabled:r,onClick:l,children:"+"})]}),Object(T.jsxs)("div",{children:["Likes:",e.info.liked,Object(T.jsx)("br",{}),"Description:",e.info.description]}),Object(T.jsx)(M.b,{to:t?"/list/".concat(e.info.id):"/home/",children:Object(T.jsx)("stack",{children:Object(T.jsx)(I.a.Img,{variant:"top",width:"200",heigh:"300",src:e.info.movies[0].cover})})}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{children:["Created by ",e.info.owner_info.username," "]})]})})},ae=function(e){var t=Object(a.useState)(!1),c=Object(b.a)(t,2);c[0],c[1];return console.log("ml is:",e.info),Object(T.jsx)(I.a,{style:{width:"15rem"},children:Object(T.jsxs)(I.a.Body,{children:[Object(T.jsx)("script",{src:"holder.js"}),Object(T.jsx)(I.a.Title,{style:{height:"2.2rem",textAlign:"left"},children:Object(T.jsx)(M.b,{style:{textDecoration:"none",color:"black"},to:"/list/".concat(e.info.id),children:e.info.name})}),Object(T.jsxs)("div",{children:["Likes:",e.info.liked,Object(T.jsx)("br",{}),"Description:",e.info.description]}),Object(T.jsx)(M.b,{to:"/list/".concat(e.info.id),children:Object(T.jsx)("stack",{children:Object(T.jsx)(I.a.Img,{variant:"top",width:"200",heigh:"300",src:e.info.movies[0].cover})})}),Object(T.jsx)("hr",{})]})})},se=function(e){var t=e.lists;return Object(T.jsx)(m.a,{direction:"horizontal",className:"align-items-stretch",gap:3,children:t.map((function(e){return Object(T.jsx)(ne,{info:e})}))})},ie=function(e){var t=e.lists;return Object(T.jsx)(m.a,{direction:"horizontal",className:"align-items-stretch",gap:3,children:t.map((function(e){return Object(T.jsx)(ae,{info:e})}))})},re=function(){alert("Please Sign Up or Log In First!")},oe=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(b.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)([]),j=Object(b.a)(l,2),d=j[0],h=j[1],O=Object(a.useState)([]),x=Object(b.a)(O,2),p=x[0],f=x[1],g=Object(L.a)(),v=Object(b.a)(g,2),y=v[0],w=(v[1],JSON.parse(window.localStorage.getItem("login")));console.log("login_status:",w),console.log("lcookie:",y);var k={method:"GET",mode:"cors",credentials:"same-origin",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(y.email,";accessToken=").concat(y.accessToken)}};return Object(a.useEffect)((function(){fetch("http://34.125.130.128:8000/homepage/",k).then((function(e){return e.json()})).then((function(e){console.log(e.data.recommendedLists),n(e.data.recommendedMovies),o(e.data.recommendedLists),w&&(console.log(e.data),h(e.data.movies),f(e.data.lists))})).catch((function(e){return console.log(e)}))}),[w]),window.addEventListener("storage",(function(){console.log(JSON.parse(window.localStorage.getItem("login")))})),w?Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)(B,{}),Object(T.jsx)(u.a,{children:Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)("h2",{children:"Your Movies"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:Object(T.jsx)(ce,{movies:d})}),Object(T.jsx)("h2",{children:"Recommended Movies"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:Object(T.jsx)(ce,{movies:c})}),Object(T.jsx)("h2",{children:"Your Lists"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:Object(T.jsx)(ie,{lists:p})}),Object(T.jsx)("h2",{children:"Recommended Lists"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:Object(T.jsx)(se,{lists:r})})]})})]}):Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)(B,{}),Object(T.jsx)(u.a,{onClick:re,children:Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)("h2",{children:"Recommended Movies"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:Object(T.jsx)(ce,{movies:c})}),Object(T.jsx)("h2",{children:"Recommended Lists"}),Object(T.jsx)(m.a,{direction:"horizontal",gap:3,children:Object(T.jsx)(se,{lists:r})})]})})]})},le=c(139);c(158);function je(e){var t=JSON.parse(window.localStorage.getItem("login")),c=Object(L.a)(),n=Object(b.a)(c,1)[0],a=function(){t||alert("Pleas Log In or Sign Up First!")};return"none"===e.valueProps.cover&&(e.valueProps.cover="//st.depositphotos.com/1987177/3470/v/450/depositphotos_34700099-stock-illustration-no-photo-available-or-missing.jpg"),Object(T.jsx)(u.a,{className:"mb-2",children:Object(T.jsxs)(I.a,{children:[Object(T.jsx)("script",{src:"holder.js"}),Object(T.jsx)(I.a.Body,{onClick:a,children:Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{xs:"2",children:Object(T.jsx)(M.b,{className:"movie_link",onClick:a,to:t?"/movie/"+e.valueProps.id:"/advanced_search/",children:Object(T.jsx)(D.a,{src:e.valueProps.cover,height:"150",width:"100",className:"mx-auto"})})}),Object(T.jsxs)(g.a,{xs:"9",children:[Object(T.jsx)(M.b,{className:"movie_link",onClick:a,to:t?"/movie/"+e.valueProps.id:"/advanced_search/",children:Object(T.jsx)("h3",{children:e.valueProps.title})}),Object(T.jsxs)("div",{children:["Runtime: ",e.valueProps.runtime," min"]}),Object(T.jsxs)("div",{children:["Type: ",e.valueProps.type]})]}),Object(T.jsx)(g.a,{className:"m-auto",children:Object(T.jsx)(O.a,{variant:"outline-primary",className:"float_right",onClick:function(){a(),function(e){var t={method:"PUT",mode:"cors",credentials:"same-origin",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(n.email,";accessToken=").concat(n.accessToken)}};fetch("http://34.125.130.128:8000/user/lists/movies/"+e,t)}(e.valueProps.id)},children:"+"})})]})})]})})}var de=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(b.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(""),j=Object(b.a)(l,2),d=j[0],h=j[1],x=Object(a.useState)(""),f=Object(b.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)(""),w=Object(b.a)(y,2),k=w[0],C=w[1],S=Object(a.useCallback)((function(){var e={method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"},body:window.localStorage.getItem("searchJSON")};fetch("http://34.125.130.128:8000/user/search_movie",e).then((function(e){return e.json()})).then((function(e){e.data?o(e.data):(console.log("no results"),o(["No results!"]))}),(function(e){}))}),[r,c]);Object(a.useEffect)((function(){window.localStorage.setItem("searchJSON",k)}),[k]);var N=Object(a.useCallback)((function(){C(JSON.stringify({language:d,type:g,keyword:c,isMovie:"Movie"}))}),[c,d,g]);Object(a.useEffect)((function(){N()}),[d,g,c,N]);return Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)(B,{}),Object(T.jsxs)(u.a,{children:[Object(T.jsx)(I.a,{className:"mb-2",children:Object(T.jsxs)(I.a.Body,{children:[Object(T.jsxs)(p.a,{className:"d-flex mb-2",children:[Object(T.jsx)("input",{type:"text",class:"form-control",style:{display:"none"}}),Object(T.jsx)(le.a,{type:"search",placeholder:"Search",className:"me-2",onChange:function(e){e.preventDefault(),console.log(e.target.value),n(e.target.value)},value:c}),Object(T.jsxs)(O.a,{variant:"outline-success",onClick:S,children:[" ","Search"," "]})]}),"Language:",Object(T.jsx)(u.a,{children:Array.from(["English","Spanish","French","Chinese","Japanese","Korean"]).map((function(e){return Object(T.jsx)(p.a.Check,{label:e,inline:!0,type:"checkbox",checked:d===e,onChange:function(){return h(d===(t=e)?"":t),void N();var t}})}))}),"Genre:",Object(T.jsx)(u.a,{children:Array.from(["Documentary","Comedy","Drama","Fantasy","Thriller","Action","Romance","Sci_Fi"]).map((function(e){return Object(T.jsx)(p.a.Check,{label:e,inline:!0,type:"checkbox",checked:g===e,onChange:function(){return v(g===(t=e)?"":t),void N();var t}})}))})]})}),Object(T.jsx)(I.a,{children:Object(T.jsx)(I.a.Body,{children:r.map((function(e,t){return Object(T.jsx)(je,{valueProps:e,user_id:JSON.parse(window.localStorage.getItem("login")).email})}))})})]})]})},be=c(7),he=c(9),ue=c(16),me=c(17),Oe=c(185),xe=c(142),pe=c(31),fe=function(e){Object(ue.a)(c,e);var t=Object(me.a)(c);function c(e){var n;return Object(be.a)(this,c),(n=t.call(this,e)).state={new_username:"",new_password:"",new_birthday:"",new_gender:""},n.handleUsername=n.handleUsername.bind(Object(pe.a)(n)),n.handlePassword=n.handlePassword.bind(Object(pe.a)(n)),n.handleBirthday=n.handleBirthday.bind(Object(pe.a)(n)),n.handleGender=n.handleGender.bind(Object(pe.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(pe.a)(n)),n.DeleteUser=n.DeleteUser.bind(Object(pe.a)(n)),n}return Object(he.a)(c,[{key:"componentDidMount",value:function(){var e=this;C.onAuthStateChanged((function(t){t&&Object(w.b)(Object(w.a)(Object(w.d)(S),"users/".concat(t.uid))).then((function(t){t.exists()?e.setState({new_birthday:t.val().birthday,new_gender:t.val().gender,new_username:t.val().username}):console.log("No data available")}))}))}},{key:"handleUsername",value:function(e){this.setState({new_username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({new_password:e.target.value})}},{key:"handleBirthday",value:function(e){this.setState({new_birthday:e.target.value})}},{key:"handleGender",value:function(e){this.setState({new_gender:e.target.value})}},{key:"handleSubmit",value:function(e){Object(w.e)(Object(w.d)(S,"users/"+C.currentUser.uid),{gender:this.state.new_gender,username:this.state.new_username,birthday:this.state.new_birthday}).catch((function(e){return alert("fail to reset gender/username/birthday")})),Object(y.b)(C.currentUser,this.state.new_password).then().catch((function(e){return alert("fail to reset password")}))}},{key:"DeleteUser",value:function(e){}},{key:"render",value:function(){return Object(T.jsxs)("div",{children:[Object(T.jsxs)("form",{id:"update",onSubmit:this.handleSubmit,children:[Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"New Username"}),Object(T.jsx)(g.a,{sm:3,children:Object(T.jsx)(p.a.Control,{type:"text",placeholder:"New Username",value:this.state.new_username,onChange:this.handleUsername,name:"username",id:"username"})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"New Password"}),Object(T.jsx)(g.a,{sm:3,children:Object(T.jsx)(p.a.Control,{type:"text",placeholder:"New Password",value:this.state.new_password,onChange:this.handlePassword,name:"Password",id:"Password"})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Gender"}),Object(T.jsx)(g.a,{sm:3,children:Object(T.jsxs)(p.a.Select,{value:this.state.new_gender,onChange:this.handleGender,children:[Object(T.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Gender"}),Object(T.jsx)("option",{value:"Male",children:"Male"}),Object(T.jsx)("option",{value:"Female",children:"Female"}),Object(T.jsx)("option",{value:"Non-binary",children:"Non-Binary"})]})})]}),Object(T.jsxs)(p.a.Group,{as:f.a,className:"mb-3",children:[Object(T.jsx)(p.a.Label,{column:!0,sm:2,children:"Birthday"}),Object(T.jsx)(g.a,{sm:3,children:Object(T.jsx)(p.a.Control,{type:"date",value:this.state.new_birthday,onChange:this.handleBirthday})})]}),Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)(O.a,{type:"submit",children:"Save Changes"})})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(O.a,{variant:"danger",type:"submit",onClick:this.DeleteUser,children:"Delete Account"}),Object(T.jsx)("br",{})]})]})}}]),c}(s.a.Component);var ge=c(184),ve=function(e){Object(ue.a)(c,e);var t=Object(me.a)(c);function c(){return Object(be.a)(this,c),t.apply(this,arguments)}return Object(he.a)(c,[{key:"render",value:function(){return Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)(B,{}),Object(T.jsx)("div",{children:Object(T.jsx)(Oe.a.Container,{id:"left-tabs",variant:"success",defaultActiveKey:"info",children:Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{sm:3,children:Object(T.jsx)(xe.a,{justify:!0,variant:"pills",className:"flex-column",children:Object(T.jsx)(xe.a.Item,{children:Object(T.jsx)(xe.a.Link,{eventKey:"info",children:"Update Your Information"})})})}),Object(T.jsx)(g.a,{sm:9,children:Object(T.jsx)(Oe.a.Content,{children:Object(T.jsx)(Oe.a.Pane,{eventKey:"info",children:Object(T.jsx)(fe,{})})})})]})})})]})}}]),c}(s.a.Component),ye=ve;c(161);var we=function(e){var t=e.item,c=e.index;return t.cover=q(t.cover),Object(T.jsx)(u.a,{className:"movie-card",children:Object(T.jsxs)(I.a,{children:[Object(T.jsx)(g.a,{className:"movie-card-index-col",children:c+1}),Object(T.jsx)(I.a.Body,{children:Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{xs:"5",className:"Movie-img-info-Row",children:Object(T.jsx)(M.b,{to:"/movie/"+t.id,children:Object(T.jsx)(D.a,{src:t.cover,height:"150",width:"100",className:"mx-auto"})})}),Object(T.jsxs)(g.a,{xs:"7",className:"Movie-text-info-Row",children:[Object(T.jsx)(M.b,{to:"/movie/"+t.id,children:Object(T.jsx)("h3",{children:t.title})}),Object(T.jsxs)("div",{children:["Runtime: ",t.runtime," min"]}),Object(T.jsxs)("div",{children:["Release Year: ",t.release_year]})]})]})})]})})},ke=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(b.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(""),j=Object(b.a)(l,2),d=j[0],O=j[1],p=Object(a.useState)(null),f=Object(b.a)(p,2),g=f[0],v=f[1],y=Object(a.useState)(null),w=Object(b.a)(y,2),k=w[0],C=w[1],S=Object(N.o)().list_id,_=Object(a.useState)("No Description About This List Yet!!"),A=Object(b.a)(_,2),P=A[0],E=A[1],D=Object(L.a)(),G=Object(b.a)(D,1)[0];return Object(a.useEffect)((function(){console.log(G),fetch("http://34.125.130.128:8000/user/lists/"+S,{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(G.email,";accessToken=").concat(G.accessToken)}}).then((function(e){return e.json()})).then((function(e){console.log(e),O(e.data.name),v(e.data.creator),E(e.data.description),C(e.data.liked),o(e.data.movies)})).catch((function(e){console.log(e),alert("Oops! Something Went Wrong, Please Try Again!")}))}),[]),Object(T.jsxs)(m.a,{gap:3,children:[Object(T.jsx)(B,{}),Object(T.jsx)(h.a,{bg:"light",expand:"lg",children:Object(T.jsxs)(u.a,{children:[Object(T.jsx)(h.a.Brand,{children:d}),Object(T.jsxs)(xe.a,{className:"me-auto",children:[Object(T.jsx)(xe.a.Link,{onClick:function(){return n(!0)},children:"Description"}),Object(T.jsxs)(x.a,{show:c,onHide:function(){return n(!1)},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(T.jsx)(x.a.Header,{closeButton:!0,children:Object(T.jsxs)(x.a.Title,{id:"example-custom-modal-styling-title",children:["Description About ",d]})}),Object(T.jsx)(x.a.Body,{children:Object(T.jsx)("p",{children:P})})]})]}),Object(T.jsx)(xe.a,{className:"me-auto",children:Object(T.jsxs)(xe.a.Link,{disabled:!0,children:["Created by ",g," "]})}),Object(T.jsx)(xe.a,{className:"me-auto",children:Object(T.jsxs)(xe.a.Link,{disabled:!0,children:["Liked by ",k," Users"]})})]})}),Object(T.jsx)("br",{}),Object(T.jsx)(u.a,{className:"mb-2",children:Object(T.jsx)(m.a,{children:Object(T.jsx)(u.a,{children:Object(T.jsx)(I.a,{children:Object(T.jsx)(I.a.Body,{children:r.map((function(e,t){return Object(T.jsx)(we,{item:e,index:t})}))})})})})})]})},Ce=c(19),Se=function(e){var t=e.userData;return Object(T.jsx)(Ce.b,{className:"mb-4",children:Object(T.jsxs)(Ce.c,{children:[Object(T.jsxs)(Ce.h,{children:[Object(T.jsx)(Ce.f,{sm:"3",children:Object(T.jsx)(Ce.e,{children:"Full Name"})}),Object(T.jsx)(Ce.f,{sm:"9",children:Object(T.jsx)(Ce.e,{className:"text-muted",children:t.username})})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(Ce.h,{children:[Object(T.jsx)(Ce.f,{sm:"3",children:Object(T.jsx)(Ce.e,{children:"Email"})}),Object(T.jsx)(Ce.f,{sm:"9",children:Object(T.jsx)(Ce.e,{className:"text-muted",children:t.email})})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(Ce.h,{children:[Object(T.jsx)(Ce.f,{sm:"3",children:Object(T.jsx)(Ce.e,{children:"Gender"})}),Object(T.jsx)(Ce.f,{sm:"9",children:Object(T.jsx)(Ce.e,{className:"text-muted",children:t.gender})})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(Ce.h,{children:[Object(T.jsx)(Ce.f,{sm:"3",children:Object(T.jsx)(Ce.e,{children:"Birthday"})}),Object(T.jsx)(Ce.f,{sm:"9",children:Object(T.jsx)(Ce.e,{className:"text-muted",children:t.birthday})})]})]})})},Ne=function(e){var t=e.userData;return Object(T.jsx)(Ce.b,{className:"mb-4",children:Object(T.jsxs)(Ce.c,{className:"text-center",children:[Object(T.jsx)(Ce.d,{src:t.avatar?t.avatar:ee(t.gender),alt:"avatar",className:"rounded-circle",style:{width:"150px"},fluid:!0}),Object(T.jsx)("p",{className:"text-muted mb-1",children:"Hey there!"}),Object(T.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(T.jsx)(Ce.a,{children:"Like, TBD"})})]})})},Te=function(e){var t=e.userData;return Object(T.jsx)(Ce.b,{className:"mb-4",children:Object(T.jsxs)(ge.a,{defaultActiveKey:"Liked Movies",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(T.jsx)(Oe.a,{eventKey:"Liked Movies",title:"Liked Movies",children:t.movies?t.movies.map((function(e,t){return Object(T.jsx)(Ce.f,{children:Object(T.jsx)(we,{item:e,index:t})})})):null}),Object(T.jsxs)(Oe.a,{eventKey:"Liked Lists",title:"Liked Lists",className:"mx-3",children:[" ",t.lists.map((function(e){return Object(T.jsx)(Ce.f,{md:"8",children:Object(T.jsx)(Z,{movieList:e})})}))]})]})})};function _e(){var e=Object(N.m)(),t=Object(N.o)().email,c=Object(L.a)(),n=Object(b.a)(c,1)[0],s=Object(a.useState)({username:null,email:null,gender:null,birthday:null,avatar:null,lists:[],movies:[]}),i=Object(b.a)(s,2),r=i[0],o=i[1];return Object(a.useEffect)((function(){fetch("http://34.125.130.128:8000/user/".concat(t),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(n.email,";accessToken=").concat(n.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data})).then(function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.movies.map((function(e){return fetch("http://34.125.130.128:8000/user/movies/".concat(e.id),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(n.email,";accessToken=").concat(n.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data}))})));case 2:return c=e.sent,e.next=5,Promise.all(t.lists.map((function(e){return fetch("http://34.125.130.128:8000/user/lists/".concat(e.id),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(n.email,";accessToken=").concat(n.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data}))})));case 5:a=e.sent,o(Object(j.a)(Object(j.a)({},t),{},{movies:c,lists:a}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.log(t),alert("Oops! We Couldn't Find This Guy, Please Try Again!"),e(-1)}))}),[]),Object(T.jsxs)("section",{style:{backgroundColor:"#eee"},children:[Object(T.jsx)(B,{}),Object(T.jsx)(Ce.g,{className:"py-5",children:Object(T.jsxs)(Ce.h,{children:[Object(T.jsx)(Ce.f,{lg:"4",children:Object(T.jsx)(Ne,{userData:r})}),Object(T.jsxs)(Ce.f,{lg:"8",children:[Object(T.jsx)(Se,{userData:r}),Object(T.jsx)(Te,{userData:r})]})]})})]})}r.a.render(Object(T.jsx)(M.a,{children:Object(T.jsxs)(N.d,{children:[Object(T.jsx)(N.b,{path:"/home",element:Object(T.jsx)(oe,{})}),Object(T.jsx)(N.b,{path:"/movie/:movie_Id",element:Object(T.jsx)(X,{})}),Object(T.jsx)(N.b,{path:"/userhome",element:Object(T.jsx)(ye,{})}),Object(T.jsx)(N.b,{path:"/advanced_search",element:Object(T.jsx)(de,{})}),Object(T.jsx)(N.b,{path:"/list/:list_id",element:Object(T.jsx)(ke,{})}),Object(T.jsx)(N.b,{path:"/user/:email",element:Object(T.jsx)(_e,{})}),Object(T.jsx)(N.b,{exact:!0,path:"/",element:Object(T.jsx)(N.a,{to:"/home"})})]})}),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.e472109e.chunk.js.map