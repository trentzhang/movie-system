(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,c){},121:function(e,t,c){},123:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(22),r=c.n(s),i=c(5),l=c(2),o=c.n(l),j=c(4),d=c(6),b=(c(98),c(140)),u=c(147),h=c(139),O=c(137),m=c(141),x=c(104),p=c(148),f=c(142),v=c(24),g=c(102),y=c(43),w=Object(g.a)({apiKey:"AIzaSyCENKuGTVts4JZwflaz7SZw1UPYtJ5Cxd8",authDomain:"movie-4f0da.firebaseapp.com",databaseURL:"https://movie-4f0da-default-rtdb.firebaseio.com",projectId:"movie-4f0da",storageBucket:"movie-4f0da.appspot.com",messagingSenderId:"917645092140",appId:"1:917645092140:web:c7cf66d199d7fc90033889"}),k=Object(y.c)(w),N=c(144),C=c(138),S=c(145),L=c(143),T="http://192.168.0.200:3000",_=c(1),E=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(d.a)(s,2),i=r[0],l=r[1],b=Object(n.useState)(""),u=Object(d.a)(b,2),h=u[0],m=u[1],p=Object(n.useState)(""),f=Object(d.a)(p,2),v=f[0],g=f[1],w=Object(n.useState)(""),N=Object(d.a)(w,2),S=N[0],E=N[1];return Object(_.jsx)("form",{onSubmit:function(e){e.preventDefault(),Object(y.a)(k,h,v).then(function(){var e=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",credentials:"omit",headers:{"Content-type":"application/json"},body:JSON.stringify({name:i,email:h,gender:c,birthday:S})},e.next=3,fetch("".concat(T,"/user/signup"),n);case 3:if((a=e.sent).ok){e.next=7;break}throw Object(y.b)(k.currentUser),new Error("HTTP error when saving info to database! Status: ".concat(a.status));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.code,c=e.message;alert("Register Failed!\n"+t+c)}))},children:Object(_.jsxs)("div",{children:[Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,children:"Username*"}),Object(_.jsx)(x.a,{children:Object(_.jsx)(L.a.Control,{type:"text",placeholder:"Username",value:i,onChange:function(e){return l(e.target.value)},required:!0})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,children:"Email*"}),Object(_.jsx)(x.a,{children:Object(_.jsx)(L.a.Control,{type:"email",placeholder:"Email",value:h,onChange:function(e){return m(e.target.value)},required:!0})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,children:"Password*"}),Object(_.jsx)(x.a,{children:Object(_.jsx)(L.a.Control,{type:"text",placeholder:"Password",value:v,onChange:function(e){return g(e.target.value)},required:!0})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,children:"Gender"}),Object(_.jsx)(x.a,{children:Object(_.jsxs)(L.a.Select,{"aria-label":"Gender",value:c,onChange:function(e){return a(e.target.value)},children:[Object(_.jsx)("option",{value:"",disabled:!0,children:"Gender"}),Object(_.jsx)("option",{value:"Male",children:"Male"}),Object(_.jsx)("option",{value:"Female",children:"Female"}),Object(_.jsx)("option",{value:"Non-binary",children:"Non-Binary"})]})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,children:"Birthday"}),Object(_.jsx)(x.a,{children:Object(_.jsx)(L.a.Control,{type:"date",id:"birthday",onChange:function(e){return E(e.target.value)}})})]}),Object(_.jsx)(L.a.Group,{as:O.a,className:"mb-3",children:Object(_.jsx)(x.a,{children:Object(_.jsx)(C.a,{type:"submit",children:"Create account"})})})]})})},P=function(e){e.setLogin;var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),i=Object(d.a)(r,2),l=i[0],o=i[1],j=function(e){e.preventDefault(),Object(y.d)(k,a,l).then((function(e){})).catch((function(e){var t=e.message;alert("Login Failed \n ".concat(t))}))},b=Object(n.useState)(!1),u=Object(d.a)(b,2),h=u[0],m=u[1];return Object(_.jsxs)("div",{children:[Object(_.jsxs)("form",{onSubmit:j,id:"login",children:[Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",controlId:"formHorizontalEmail",children:[Object(_.jsx)(L.a.Label,{column:!0,sm:2,children:"Email"}),Object(_.jsx)(x.a,{sm:10,children:Object(_.jsx)(L.a.Control,{type:"email",placeholder:"Email",value:a,onChange:function(e){return s(e.target.value)},required:!0})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",controlId:"formHorizontalPassword",children:[Object(_.jsx)(L.a.Label,{column:!0,sm:2,children:"Password"}),Object(_.jsx)(x.a,{sm:10,children:Object(_.jsx)(L.a.Control,{type:"password",placeholder:"Password",value:l,onChange:function(e){return o(e.target.value)},required:!0})})]}),Object(_.jsx)(L.a.Group,{as:O.a,className:"mb-3",children:Object(_.jsx)(x.a,{sm:{span:10,offset:2}})})]}),Object(_.jsxs)(x.a,{sm:{span:10,offset:2},children:[Object(_.jsx)(C.a,{className:"btn-secondary",form:"login",type:"submit",onSubmit:j,children:"Sign in"}),"or",Object(_.jsx)(C.a,{className:"btn-secondary",type:"submit",onClick:function(){return m(!0)},children:"Create account"}),Object(_.jsxs)(S.a,{show:h,onHide:function(){return m(!1)},children:[Object(_.jsx)(S.a.Header,{closeButton:!0,children:Object(_.jsx)(S.a.Title,{children:"Create Your Account"})}),Object(_.jsx)(S.a.Body,{children:Object(_.jsx)(E,{setShowRegisterModal:m})})]})]})]})};function A(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){var e=k.onAuthStateChanged((function(e){a(e||null)}));return function(){e()}}),[]);var s=Object(n.useState)(!1),r=Object(d.a)(s,2),i=r[0],l=r[1];return c?Object(_.jsxs)(u.a,{direction:"horizontal",gap:2,children:[Object(_.jsx)(N.a.Text,{children:Object(_.jsx)("b",{children:c.email})}),Object(_.jsx)(C.a,{className:"btn-light",href:"/advanced_search",children:"Search"}),Object(_.jsx)(C.a,{className:"btn-light",onClick:function(){k.signOut()},children:"Log out"}),Object(_.jsx)(C.a,{className:"btn-light",href:"/user/".concat(c.email),children:"My Home"}),Object(_.jsx)(C.a,{className:"btn-secondary",href:"/userhome",children:"Settings"})]}):Object(_.jsxs)(u.a,{direction:"horizontal",gap:3,children:[Object(_.jsx)(C.a,{className:"btn-light",href:"/advanced_search",children:"Search"}),Object(_.jsx)(C.a,{className:"btn-secondary",onClick:function(){return l(!0)},children:"Login"}),Object(_.jsxs)(S.a,{show:i,onHide:function(){return l(!1)},children:[Object(_.jsx)(S.a.Header,{closeButton:!0,children:Object(_.jsx)(S.a.Title,{children:"Log In"})}),Object(_.jsx)(S.a.Body,{children:Object(_.jsx)(P,{})})]})]})}function B(){return Object(_.jsx)(N.a,{bg:"light",expand:"lg",children:Object(_.jsxs)(h.a,{fluid:!0,children:[Object(_.jsx)(N.a.Brand,{href:"/home",style:{fontWeight:"bold"},children:"Movies!"}),Object(_.jsx)(N.a.Toggle,{"aria-controls":"navbarScroll"}),Object(_.jsx)(N.a.Collapse,{id:"navbarScroll",className:"justify-content-end",children:Object(_.jsx)(A,{})})]})})}var G=c(63);c(101);function D(e){return function(e){return!!e&&null!=e.match(/\.(jpeg|jpg|gif|png)$/)}(e)?e:"//st.depositphotos.com/1987177/3470/v/450/depositphotos_34700099-stock-illustration-no-photo-available-or-missing.jpg"}var I=c(79);function U(e){var t=e.Lists;return t&&t[0]?Object(_.jsx)(h.a,{children:Object(_.jsx)(G.a,{options:{type:"loop",perPage:4,autoplay:!0,focus:"center",padding:"5rem",breakpoints:{640:{perPage:3},480:{perPage:2}}},className:"pb-4",children:t.map((function(e){return Object(_.jsx)(G.b,{children:Object(_.jsxs)(p.a,{className:"text-center mx-2 text-bg-dark",children:[Object(_.jsx)(p.a.Body,{children:Object(_.jsxs)(v.b,{to:"/list/".concat(e.id),className:"text-bg-dark text-decoration-none",children:[Object(_.jsx)(p.a.Title,{className:"text-truncate fs-6",children:e.name}),Object(_.jsx)(p.a.Img,{src:D(e.cover)})]})}),Object(_.jsxs)(I.a,{children:["Likes:",e.liked]})]})},e.id)}))})}):Object(_.jsx)(h.a,{children:"No list available, create a list! "})}var M,H=c(11),R=c.n(H),F=["title","titleId"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},J.apply(this,arguments)}function z(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function W(e,t){var c=e.title,a=e.titleId,s=z(e,F);return n.createElement("svg",J({width:84,height:67,viewBox:"0 0 84 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),c?n.createElement("title",{id:a},c):null,M||(M=n.createElement("g",{id:"Icon"},n.createElement("g",{id:"hand"},n.createElement("rect",{id:"Rectangle 1",y:21.9999,width:20,height:45,rx:5,fill:"white"}),n.createElement("path",{id:"thumb-4",d:"M24 23.9999H79C81.7614 23.9999 84 26.2385 84 28.9999V30.9999C84 33.7613 81.7614 35.9999 79 35.9999H24V23.9999Z",fill:"white"}),n.createElement("path",{id:"thumb-3",d:"M24 53.9999H64C66.7614 53.9999 69 56.2385 69 58.9999V60.9999C69 63.7613 66.7614 65.9999 64 65.9999H24V53.9999Z",fill:"white"}),n.createElement("path",{id:"thumb-2",d:"M24 43.9999H69C71.7614 43.9999 74 46.2385 74 48.9999V50.9999C74 53.7613 71.7614 55.9999 69 55.9999H24V43.9999Z",fill:"white"}),n.createElement("path",{id:"thumb-1",d:"M24 33.9999H74C76.7614 33.9999 79 36.2385 79 38.9999V40.9999C79 43.7613 76.7614 45.9999 74 45.9999H24V33.9999Z",fill:"white"})),n.createElement("path",{id:"thumb-start",d:"M34 29.5506C37.1438 28.5631 44.1537 25.192 47.0428 19.6065",stroke:"white",strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{id:"thumb-end",d:"M44.6172 22.7471C46.9813 20.4514 51.7265 14.2881 51.7952 8.00001",stroke:"white",strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round"}))))}var K=n.forwardRef(W),V=(c.p,c(120),Array.from(Array(10))),q=function(e){var t=e.liked,c=e.clickFunc,a=Object(n.useState)(!1),s=Object(d.a)(a,2),r=s[0],i=s[1];return Object(_.jsxs)("button",{onClick:function(){c(),i(!0)},onAnimationEnd:function(){return i(!1)},className:R()("like-button-wrapper",{liked:t,clicked:r}),children:[t&&Object(_.jsx)("div",{className:"particles",children:V.map((function(e,t){return Object(_.jsx)("div",{className:"particle-rotate",style:{transform:"rotate(".concat(360/V.length*t+1,"deg)")},children:Object(_.jsx)("div",{className:"particle-tick"})},t)}))}),Object(_.jsxs)("div",{className:"like-button",children:[Object(_.jsx)(K,{}),Object(_.jsx)("span",{children:"Like"}),Object(_.jsx)("span",{className:R()("suffix",{liked:t}),children:"d"})]})]})},Y=(c(121),c(14)),Z=c(149),$=function(e){var t=e.movieData,c=["Primary","Secondary","Success","Danger","Warning","Info","Light","Dark"],a=c[Math.floor(Math.random()*c.length)],s=Object(Y.o)().movie_Id,r=Object(n.useState)(!1),i=Object(d.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),h=b[0],O=b[1];return Object(_.jsxs)(u.a,{direction:"horizontal",gap:3,className:"flex-container",children:[Object(_.jsxs)(p.a,{style:{width:"18rem",minWidth:"10rem",fontSize:"15px"},className:"py-5 px-2 text-center",onClick:function(){return o(!0)},children:["Add Your Review",Object(_.jsxs)(S.a,{show:l,onHide:function(){return o(!1)},children:[Object(_.jsx)(S.a.Header,{closeButton:!0,children:Object(_.jsx)(S.a.Title,{children:"Create Review"})}),Object(_.jsxs)(S.a.Body,{children:[Object(_.jsx)("div",{class:"form-group my-3",children:Object(_.jsx)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:h,onChange:function(e){return O(e.target.value)},required:!0})}),Object(_.jsx)(C.a,{type:"submit",onClick:function(e){return function(e){o(!1);var t={method:"POST",credentials:"omit",headers:{"Content-type":"application/json"},body:JSON.stringify({review:h})};fetch("".concat(T,"/user/movies/").concat(s,"/comments"),t).then((function(){return window.location.reload(!1)}))}()},children:"Submit"})]})]})]}),t.comments?t.comments.map((function(e,t){return Object(_.jsxs)(p.a,{bg:a.toLowerCase(),text:"light"===a.toLowerCase()?"dark":"white",style:{width:"18rem",minWidth:"10rem",fontSize:"15px"},className:"mb-2",children:[Object(_.jsxs)(p.a.Header,{children:[e.username," (",e.user_email,")"]}),Object(_.jsxs)(p.a.Body,{children:[Object(_.jsx)(p.a.Text,{children:e.comment}),Object(_.jsx)(Z.a.Item,{size:"lg",children:e.created_time})]})]},t)})):null]})};var Q=function(){Object(Y.m)();var e=Object(Y.o)().movie_Id,t=Object(n.useState)({id:e,title:null,release_year:null,runtime:null,type:null,description:null,cover:null,production:null,language:null,liked_num:null,rating:null,rate_num:null,liked_users:[],comments:[],related_lists:[]}),c=Object(d.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),l=Object(d.a)(r,2),g=l[0],y=l[1],w=Object(n.useState)(null),N=Object(d.a)(w,2),C=N[0],S=N[1];function L(e,t){return E.apply(this,arguments)}function E(){return E=Object(j.a)(o.a.mark((function e(t,c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(T,"/liked/movies/").concat(t,"/").concat(c));case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent.data,e.abrupt("return",!!a);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching like status:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),E.apply(this,arguments)}function P(){return(P=Object(j.a)(o.a.mark((function t(){var c,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C){t.next=3;break}return alert("Please login first!"),t.abrupt("return",!1);case 3:return c=C.email,n=g?"DELETE":"PUT",t.prev=5,a={method:n,credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"}},t.next=9,fetch("".concat(T,"/liked/movies/").concat(c,"/").concat(e),a);case 9:y(!g),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0),alert("Oops! Like Operation API Wrong, Please Try Again!");case 16:case"end":return t.stop()}}),t,null,[[5,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var t=k.onAuthStateChanged(function(){var t=Object(j.a)(o.a.mark((function t(c){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("authUser :>> ",c),!c){t.next=9;break}return S(c),t.next=5,L(c.email,e);case 5:n=t.sent,y(n),t.next=10;break;case 9:S(null);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){t()}}),[]),Object(n.useEffect)((function(){function t(){return t=Object(j.a)(o.a.mark((function t(){var c,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(T,"/movies/").concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:return t.next=8,t.sent.data;case 8:return n=t.sent,t.next=11,Promise.all(n.related_lists.map(function(){var e=Object(j.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T,"/lists/").concat(t.id));case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:a=t.sent,s(Object(i.a)(Object(i.a)({},n),{},{lists:a})),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("Error fetching movie data:",t.t0),alert("Oops! We Couldn't Find This Movie, Please Try Again!");case 19:case"end":return t.stop()}}),t,null,[[0,15]])}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,C,g]),Object(n.useEffect)((function(){C||y(!1)}),[C]),Object(_.jsxs)(u.a,{gap:3,children:[Object(_.jsx)(B,{}),Object(_.jsx)(h.a,{className:"p-3",children:Object(_.jsxs)(u.a,{className:"text-bg-dark",gap:3,children:[Object(_.jsx)("script",{src:"holder.js"}),Object(_.jsx)(O.a,{className:"vh-30",children:Object(_.jsxs)(u.a,{gap:3,className:"flex-md-row",children:[Object(_.jsx)(m.a,{src:a.cover,className:"h-100 object-cover"}),Object(_.jsxs)(x.a,{className:"d-flex flex-column",children:[Object(_.jsx)("h2",{children:a.title}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Type:"})," ",a.type]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Release year:"})," ",a.release_year]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Run Time:"})," ",a.runtime," min"]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Production:"})," ",a.production]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Language:"})," ",a.language]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Liked Number:"})," ",a.liked_num]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Rate Number:"})," ",a.rate_num]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Rating:"})," ",a.rating]}),Object(_.jsx)("div",{className:"mt-auto",children:Object(_.jsx)(q,{liked:g,clickFunc:function(){return P.apply(this,arguments)}})})]})]})}),Object(_.jsx)("b",{children:"Description:"}),Object(_.jsx)("p",{className:"text-break",children:a.description}),Object(_.jsx)("b",{children:"They also liked this movie:"}),Object(_.jsx)(p.a.Text,{children:a.liked_users?a.liked_users.map((function(e,t){return Object(_.jsx)(f.a,{placement:"right",delay:{show:250,hide:400},overlay:(c=e,Object(_.jsxs)(b.a,Object(i.a)(Object(i.a)({id:"button-tooltip"},c),{},{children:[c.username," ",c.email]}))),children:Object(_.jsx)(v.b,{to:"/user/".concat(e.email),children:Object(_.jsx)("img",{src:X(e.gender),className:"rounded-circle my-avater-img",alt:"Avatar"})})},t);var c})):null}),Object(_.jsx)("b",{children:"Lists you may be interested in:"}),Object(_.jsx)(U,{Lists:a.lists}),Object(_.jsx)(u.a,{direction:"horizontal",gap:3}),Object(_.jsx)("b",{children:"User review"}),Object(_.jsx)($,{movieData:a})]})})]})},X=function(e){return"male"===e?"https://www.w3schools.com/howto/img_avatar.png":"https://www.w3schools.com/howto/img_avatar2.png"},ee=(c(122),c(146));function te(e){var t=e.movieInformation;return Object(_.jsx)(p.a,{className:"text-center mx-2 text-bg-dark border-light my-hover-card-zoom",children:Object(_.jsx)(p.a.Body,{children:Object(_.jsxs)(v.b,{to:"/movie/".concat(t.id),className:"text-light text-decoration-none",children:[Object(_.jsx)(p.a.Title,{className:"text-truncate fs-6",children:t.title}),Object(_.jsx)(p.a.Img,{src:D(t.cover)})]})})})}function ce(e){var t=e.movies;return Object(_.jsx)("div",{children:Object(_.jsx)(G.a,{options:{type:"loop",perPage:5,autoplay:!0,focus:"center",breakpoints:{640:{perPage:4},480:{perPage:3}}},className:"pb-3",children:t.map((function(e){return Object(_.jsx)(G.b,{className:"py-2",children:Object(_.jsx)(te,{movieInformation:e})},e.id)}))})})}var ne=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(d.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)([]),j=Object(d.a)(o,2),b=j[0],h=j[1],O=Object(ee.a)(),m=JSON.parse(window.localStorage.getItem("login"));return Object(n.useEffect)((function(){var e={method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(O.email,";accessToken=").concat(O.accessToken)}};fetch("".concat(T,"/homepage/"),e).then((function(e){return e.json()})).then((function(e){l(e.data.moviesRandom),a(e.data.moviesSortedByRating),h(e.data.lists)})).catch((function(e){return console.log(e)}))}),[m,O.email,O.accessToken]),window.addEventListener("storage",(function(){})),Object(_.jsxs)(u.a,{gap:3,children:[Object(_.jsx)(B,{}),Object(_.jsx)(u.a,{gap:3,children:Object(_.jsxs)("div",{className:"text-center",children:[Object(_.jsx)("h2",{children:"Top Rated Movies"}),Object(_.jsx)(ce,{movies:c}),Object(_.jsx)("h2",{children:"Random Movies"}),Object(_.jsx)(ce,{movies:i}),Object(_.jsx)("h2",{children:"Lists"}),Object(_.jsx)(U,{Lists:b}),Object(_.jsx)("h2",{children:"Recently Joined Users"})]})})]})},ae=c(103);c(123);var se=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(d.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)(""),j=Object(d.a)(o,2),b=j[0],m=j[1],f=Object(n.useState)(""),v=Object(d.a)(f,2),g=v[0],y=v[1],w=Object(n.useState)(""),k=Object(d.a)(w,2),N=k[0],S=k[1],E=Object(n.useCallback)((function(){var e={method:"POST",credentials:"same-origin",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"},body:window.localStorage.getItem("searchJSON")};fetch("".concat(T,"/search_movie"),e).then((function(e){return e.json()})).then((function(e){e.data?l(e.data):(console.log("no results"),l(["No results!"]))}),(function(e){}))}),[]);Object(n.useEffect)((function(){window.localStorage.setItem("searchJSON",N)}),[N]);var P=Object(n.useCallback)((function(){S(JSON.stringify({language:b,type:g,keyword:c,searchType:"Movie"}))}),[c,b,g]);Object(n.useEffect)((function(){P()}),[b,g,c,P]);return Object(_.jsxs)(u.a,{gap:3,children:[Object(_.jsx)(B,{}),Object(_.jsxs)(h.a,{children:[Object(_.jsx)(u.a,{className:"text-bg-dark",gap:3,children:Object(_.jsxs)(p.a.Body,{children:[Object(_.jsxs)(L.a,{className:"d-flex mb-2",children:[Object(_.jsx)("input",{type:"text",className:"form-control",style:{display:"none"}}),Object(_.jsx)(ae.a,{type:"search",placeholder:"Search",className:"me-2",onChange:function(e){e.preventDefault(),console.log(e.target.value),a(e.target.value)},value:c}),Object(_.jsx)(C.a,{variant:"light",onClick:E,children:"Search"})]}),"Language:",Object(_.jsx)(h.a,{children:Array.from(["English","Spanish","French","Chinese","Japanese","Korean"]).map((function(e){return Object(_.jsx)(L.a.Check,{label:e,inline:!0,type:"checkbox",checked:b===e,onChange:function(){return m(b===(t=e)?"":t),void P();var t}})}))}),"Genre:",Object(_.jsx)(h.a,{children:Array.from(["Documentary","Comedy","Drama","Fantasy","Thriller","Action","Romance","Sci_Fi"]).map((function(e){return Object(_.jsx)(L.a.Check,{label:e,inline:!0,type:"checkbox",checked:g===e,onChange:function(){return y(g===(t=e)?"":t),void P();var t}})}))})]})}),Object(_.jsx)(u.a,{className:"text-bg-dark",gap:3,children:Object(_.jsx)(p.a.Body,{children:Object(_.jsx)(O.a,{xs:1,sm:2,md:3,lg:4,xl:4,className:"g-4",children:i.map((function(e,t){return Object(_.jsx)(x.a,{children:Object(_.jsx)(te,{movieInformation:e})})}))})})})]})]})},re=c(7),ie=c(10),le=c(15),oe=c(16),je=c(150),de=c(105),be=c(30),ue=function(e){Object(le.a)(c,e);var t=Object(oe.a)(c);function c(e){var n;return Object(re.a)(this,c),(n=t.call(this,e)).state={new_username:"",new_password:"",new_birthday:"",new_gender:""},n.handleUsername=n.handleUsername.bind(Object(be.a)(n)),n.handlePassword=n.handlePassword.bind(Object(be.a)(n)),n.handleBirthday=n.handleBirthday.bind(Object(be.a)(n)),n.handleGender=n.handleGender.bind(Object(be.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(be.a)(n)),n.DeleteUser=n.DeleteUser.bind(Object(be.a)(n)),n}return Object(ie.a)(c,[{key:"componentDidMount",value:function(){k.onAuthStateChanged((function(e){}))}},{key:"handleUsername",value:function(e){this.setState({new_username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({new_password:e.target.value})}},{key:"handleBirthday",value:function(e){this.setState({new_birthday:e.target.value})}},{key:"handleGender",value:function(e){this.setState({new_gender:e.target.value})}},{key:"handleSubmit",value:function(e){Object(y.e)(k.currentUser,this.state.new_password).then().catch((function(e){return alert("fail to reset password")}))}},{key:"DeleteUser",value:function(e){}},{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("form",{id:"update",onSubmit:this.handleSubmit,children:[Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,sm:2,children:"New Username"}),Object(_.jsx)(x.a,{sm:3,children:Object(_.jsx)(L.a.Control,{type:"text",placeholder:"New Username",value:this.state.new_username,onChange:this.handleUsername,name:"username",id:"username"})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,sm:2,children:"New Password"}),Object(_.jsx)(x.a,{sm:3,children:Object(_.jsx)(L.a.Control,{type:"text",placeholder:"New Password",value:this.state.new_password,onChange:this.handlePassword,name:"Password",id:"Password"})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,sm:2,children:"Gender"}),Object(_.jsx)(x.a,{sm:3,children:Object(_.jsxs)(L.a.Select,{value:this.state.new_gender,onChange:this.handleGender,children:[Object(_.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Gender"}),Object(_.jsx)("option",{value:"Male",children:"Male"}),Object(_.jsx)("option",{value:"Female",children:"Female"}),Object(_.jsx)("option",{value:"Non-binary",children:"Non-Binary"})]})})]}),Object(_.jsxs)(L.a.Group,{as:O.a,className:"mb-3",children:[Object(_.jsx)(L.a.Label,{column:!0,sm:2,children:"Birthday"}),Object(_.jsx)(x.a,{sm:3,children:Object(_.jsx)(L.a.Control,{type:"date",value:this.state.new_birthday,onChange:this.handleBirthday})})]}),Object(_.jsx)("div",{className:"mb-2",children:Object(_.jsx)(C.a,{variant:"light",type:"submit",children:"Save Changes"})})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)(C.a,{variant:"danger",type:"submit",onClick:this.DeleteUser,children:"Delete Account"}),Object(_.jsx)("br",{})]})]})}}]),c}(a.a.Component),he=function(e){Object(le.a)(c,e);var t=Object(oe.a)(c);function c(){return Object(re.a)(this,c),t.apply(this,arguments)}return Object(ie.a)(c,[{key:"render",value:function(){return Object(_.jsxs)(u.a,{gap:3,children:[Object(_.jsx)(B,{}),Object(_.jsx)("div",{children:Object(_.jsx)(je.a.Container,{id:"left-tabs",defaultActiveKey:"info",children:Object(_.jsxs)(O.a,{children:[Object(_.jsx)(x.a,{children:Object(_.jsx)(de.a,{justify:!0,children:Object(_.jsx)(de.a.Item,{children:Object(_.jsx)(de.a.Link,{eventKey:"info",className:"text-light",children:"Update Your Information"})})})}),Object(_.jsx)(x.a,{sm:9,children:Object(_.jsx)(je.a.Content,{children:Object(_.jsx)(je.a.Pane,{eventKey:"info",children:Object(_.jsx)(ue,{})})})})]})})})]})}}]),c}(a.a.Component),Oe=he,me=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(d.a)(s,2),i=r[0],l=r[1],b=Object(n.useState)(""),O=Object(d.a)(b,2),m=O[0],x=O[1],p=Object(n.useState)(null),f=Object(d.a)(p,2),v=f[0],g=f[1],y=Object(n.useState)(null),w=Object(d.a)(y,2),k=w[0],C=w[1],L=Object(Y.o)().list_id,E=Object(n.useState)("No Description About This List Yet!!"),P=Object(d.a)(E,2),A=P[0],G=P[1],D=Object(ee.a)(),I=Object(d.a)(D,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(T,"/lists/").concat(L));case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("HTTP error! Status: ".concat(t.status));case 6:return e.next=8,t.json();case 8:c=e.sent,x(c.data.name),g(c.data.creator),G(c.data.description),C(c.data.liked),l(c.data.movies),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching list data:",e.t0),alert("Oops! Something Went Wrong, Please Try Again!");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[I,L]),Object(_.jsxs)(u.a,{gap:3,children:[Object(_.jsx)(B,{}),Object(_.jsx)(N.a,{bg:"light",expand:"lg",children:Object(_.jsxs)(h.a,{children:[Object(_.jsx)(N.a.Brand,{children:m}),Object(_.jsxs)(de.a,{className:"me-auto",children:[Object(_.jsx)(de.a.Link,{onClick:function(){return a(!0)},children:"Description"}),Object(_.jsxs)(S.a,{show:c,onHide:function(){return a(!1)},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(_.jsx)(S.a.Header,{closeButton:!0,children:Object(_.jsxs)(S.a.Title,{id:"example-custom-modal-styling-title",children:["Description About ",m]})}),Object(_.jsx)(S.a.Body,{children:Object(_.jsx)("p",{children:A})})]})]}),Object(_.jsx)(de.a,{className:"me-auto",children:Object(_.jsxs)(de.a.Link,{disabled:!0,children:["Created by ",v," "]})}),Object(_.jsx)(de.a,{className:"me-auto",children:Object(_.jsxs)(de.a.Link,{disabled:!0,children:["Liked by ",k," Users"]})})]})}),Object(_.jsx)("br",{}),Object(_.jsx)(h.a,{className:"mb-2",children:Object(_.jsx)(u.a,{children:Object(_.jsx)(h.a,{children:Object(_.jsx)(ce,{movies:i})})})})]})},xe=c(17),pe=function(e){var t=e.userData;return Object(_.jsx)(xe.b,{className:"mb-4 text-dark",children:Object(_.jsxs)(xe.c,{children:[Object(_.jsxs)(xe.h,{children:[Object(_.jsx)(xe.f,{sm:"3",children:Object(_.jsx)(xe.e,{children:"Full Name"})}),Object(_.jsx)(xe.f,{sm:"9",children:Object(_.jsx)(xe.e,{className:"text-muted",children:t.username})})]}),Object(_.jsx)("hr",{}),Object(_.jsxs)(xe.h,{children:[Object(_.jsx)(xe.f,{sm:"3",children:Object(_.jsx)(xe.e,{children:"Email"})}),Object(_.jsx)(xe.f,{sm:"9",children:Object(_.jsx)(xe.e,{className:"text-muted",children:t.email})})]}),Object(_.jsx)("hr",{}),Object(_.jsxs)(xe.h,{children:[Object(_.jsx)(xe.f,{sm:"3",children:Object(_.jsx)(xe.e,{children:"Gender"})}),Object(_.jsx)(xe.f,{sm:"9",children:Object(_.jsx)(xe.e,{className:"text-muted",children:t.gender})})]}),Object(_.jsx)("hr",{}),Object(_.jsxs)(xe.h,{children:[Object(_.jsx)(xe.f,{sm:"3",children:Object(_.jsx)(xe.e,{children:"Birthday"})}),Object(_.jsx)(xe.f,{sm:"9",children:Object(_.jsx)(xe.e,{className:"text-muted",children:t.birthday})})]})]})})},fe=function(e){var t=e.userData;return Object(_.jsx)(xe.b,{className:"mb-4",children:Object(_.jsxs)(xe.c,{className:"text-center",children:[Object(_.jsx)(xe.d,{src:t.avatar?t.avatar:X(t.gender),alt:"avatar",className:"rounded-circle",style:{width:"150px"},fluid:!0}),Object(_.jsx)("p",{className:"text-muted mb-1",children:"Hey there!"}),Object(_.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(_.jsx)(xe.a,{children:"Like, TBD"})})]})})},ve=c(151);c(126);var ge=function(e){var t=e.item,c=e.index;return t.cover=D(t.cover),Object(_.jsx)(h.a,{className:"movie-card",children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)(x.a,{className:"movie-card-index-col",children:c+1}),Object(_.jsx)(p.a.Body,{children:Object(_.jsxs)(O.a,{children:[Object(_.jsx)(x.a,{xs:"5",className:"Movie-img-info-Row",children:Object(_.jsx)(v.b,{to:"/movie/"+t.id,children:Object(_.jsx)(m.a,{src:t.cover,height:"150",width:"100",className:"mx-auto"})})}),Object(_.jsxs)(x.a,{xs:"7",className:"Movie-text-info-Row",children:[Object(_.jsx)(v.b,{to:"/movie/"+t.id,children:Object(_.jsx)("h3",{children:t.title})}),Object(_.jsxs)("div",{children:["Runtime: ",t.runtime," min"]}),Object(_.jsxs)("div",{children:["Release Year: ",t.release_year]})]})]})})]})})},ye=function(e){var t=e.movieList;console.log(t);var c=Object(n.useState)(!1),a=Object(d.a)(c,2),s=a[0],r=a[1],i=Object(ee.a)(),l=Object(d.a)(i,1)[0];return console.log(t),t.cover=D(t.movies[0].cover),Object(_.jsx)(p.a,{style:{width:"15rem"},children:Object(_.jsxs)(p.a.Body,{children:[Object(_.jsx)("script",{src:"holder.js"}),Object(_.jsxs)(p.a.Title,{style:{height:"2.2rem"},children:[Object(_.jsx)(v.b,{style:{textDecoration:"none",color:"black"},to:"/list/".concat(t.id),children:t.list_name}),Object(_.jsx)(C.a,{variant:"outline-primary",width:"180",disabled:s,onClick:function(){if(k.currentUser){r(!0);var e={method:"PUT",credentials:"omit",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(l.email,";accessToken=").concat(l.accessToken)},body:JSON.stringify({list_id:t.id,user_id:k.currentUser.email})};fetch("".concat(T,"/add_fav_list"),e).then((function(e){return console.log("parsed json",e),e.json()})).then((function(e){console.log("parsed json",e)}),(function(e){console.log("parsing failed",e)}))}else alert("Please login first!")},children:"+"})]}),Object(_.jsx)(v.b,{to:"/list/".concat(t.id),children:Object(_.jsx)(p.a.Img,{variant:"top",width:"200",heigh:"300",src:t.cover})}),Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{children:["Created by ",t.level," member:"]}),Object(_.jsx)(v.b,{to:"/users/".concat(t.creator),children:Object(_.jsx)("div",{children:t.creator})})]})})},we=function(e){var t=e.userData;return Object(_.jsx)(xe.b,{className:"mb-4 text-dark",children:Object(_.jsxs)(ve.a,{defaultActiveKey:"Liked Movies",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(_.jsx)(je.a,{eventKey:"Liked Movies",title:"Liked Movies",children:t.movies?t.movies.map((function(e,t){return Object(_.jsx)(xe.f,{children:Object(_.jsx)(ge,{item:e,index:t})})})):null}),Object(_.jsxs)(je.a,{eventKey:"Liked Lists",title:"Liked Lists",className:"mx-3",children:[" ",t.lists.map((function(e){return Object(_.jsx)(xe.f,{md:"8",children:Object(_.jsx)(ye,{movieList:e})})}))]})]})})};function ke(){var e=Object(Y.m)(),t=Object(Y.o)().email,c=Object(ee.a)(),a=Object(d.a)(c,1)[0],s=Object(n.useState)({username:null,email:null,gender:null,birthday:null,avatar:null,lists:[],movies:[]}),r=Object(d.a)(s,2),l=r[0],b=r[1];return Object(n.useEffect)((function(){fetch("".concat(T,"/user/").concat(t),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(a.email,";accessToken=").concat(a.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data})).then(function(){var e=Object(j.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.movies.map((function(e){return fetch("".concat(T,"/movies/").concat(e.id),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(a.email,";accessToken=").concat(a.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data}))})));case 2:return c=e.sent,e.next=5,Promise.all(t.lists.map((function(e){return fetch("".concat(T,"/lists/").concat(e.id),{method:"GET",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",cookies:"email=".concat(a.email,";accessToken=").concat(a.accessToken)}}).then((function(e){return e.json()})).then((function(e){return e.data}))})));case 5:n=e.sent,b(Object(i.a)(Object(i.a)({},t),{},{movies:c,lists:n}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),alert("Oops! We Couldn't Find This Guy, Please Try Again!")}))}),[a.accessToken,a.email,t,e]),Object(_.jsxs)("section",{children:[Object(_.jsx)(B,{}),Object(_.jsx)(xe.g,{className:"py-5",children:Object(_.jsxs)(xe.h,{children:[Object(_.jsx)(xe.f,{lg:"4",children:Object(_.jsx)(fe,{userData:l})}),Object(_.jsxs)(xe.f,{lg:"8",children:[Object(_.jsx)(pe,{userData:l}),Object(_.jsx)(we,{userData:l})]})]})})]})}c(127);r.a.render(Object(_.jsx)("div",{className:"text-bg-dark min-vh-100",children:Object(_.jsx)(v.a,{children:Object(_.jsxs)(Y.d,{children:[Object(_.jsx)(Y.b,{path:"/home",element:Object(_.jsx)(ne,{})}),Object(_.jsx)(Y.b,{path:"/movie/:movie_Id",element:Object(_.jsx)(Q,{})}),Object(_.jsx)(Y.b,{path:"/userhome",element:Object(_.jsx)(Oe,{})}),Object(_.jsx)(Y.b,{path:"/advanced_search",element:Object(_.jsx)(se,{})}),Object(_.jsx)(Y.b,{path:"/list/:list_id",element:Object(_.jsx)(me,{})}),Object(_.jsx)(Y.b,{path:"/user/:email",element:Object(_.jsx)(ke,{})}),Object(_.jsx)(Y.b,{exact:!0,path:"/",element:Object(_.jsx)(Y.a,{to:"/home"})})]})})}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.3bcb12e4.chunk.js.map